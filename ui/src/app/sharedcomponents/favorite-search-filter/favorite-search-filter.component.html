<!-- Schlumberger Private
Copyright 2018 Schlumberger.  All rights reserved in Schlumberger
authored and generated code (including the selection and arrangement of
the source code base regardless of the authorship of individual files),
but not including any copyright interest(s) owned by a third party
related to source code or object code authored or generated by
non-Schlumberger personnel.

This source code includes Schlumberger confidential and/or proprietary
information and may include Schlumberger trade secrets. Any use,
disclosure and/or reproduction is prohibited unless authorized in
writing. -->
<div style="padding-top: 6px; padding-left: 4px;">
  <span>Saved Search</span>
</div>
<div style='margin-top: 8px; padding-bottom: 8px;'>
  <kendo-dropdownlist #dropdownlist style="width: 220px;" [data]='viewModel.data.searchFavoriteList'
    [popupSettings]="{ width: 225 }" [textField]="'searchFavoritesName'" [valueField]="'favoriteID'" [ngModel]='viewModel.favoriteFilterDDLBound'
    (ngModelChange)="onSearchFavoriteChange($event)">
    <ng-template kendoDropDownListHeaderTemplate>
      <div style="background:#f0f4f7;display:block;width:100%;padding:10px;margin-top:-9px; cursor: pointer;" (click)="onOpenSearchFavoritePopup()">
        <div class="saveSearchFavorite"> Save Search</div>
        <div style="float:right;position: absolute; padding: 4px 0px 0px 170px;">
          <span class='dls-icon dls-iconPlus addNewFavoriteFilterIcon'></span>
        </div>
      </div>
    </ng-template>
    <ng-template kendoDropDownListItemTemplate let-dataItem>
      <div class="row fmp-no-padding fmp-no-margin searchFavoriteTemplate" id="dvListItems" style="  width: 100%;">
        <div class="col-sm-1 fmp-no-padding fmp-no-margin" (click)="onSetFavoriteSearchDefault($event,dataItem); false">
          <span *ngIf="dataItem.isDefault" class='dls-icon dls-iconStarSolid iconStarDefault'></span>
          <span *ngIf="!dataItem.isDefault" class='dls-icon dls-iconStar iconStarNotDefault'></span>
        </div>
        <div class="col-sm-8 fmp-no-padding fmp-no-margin searchFavoriteContent">
          {{dataItem.searchFavoritesName}}
        </div>
        <div class="col-sm-2 fmp-no-padding fmp-no-margin iconDelete" (click)="onDeleteSearchFavorite($event, dataItem); false">
          <span class='dls-icon dls-iconClose iconDeleteListItem'></span>
        </div>
      </div>
    </ng-template>
  </kendo-dropdownlist>
</div>
<ng-template #FilterTemplate let-dataItem>
  <div class="modal-fav">
    <div class="modal-header modal-header-favorite-search">
      <!-- <div class="modal-header-favorite-text"> -->
      <div class="modal-title-search">
        <span> Give Your Search A Name </span>
      </div>
      <!-- </div> -->
    </div>
    <div class="modal-body modal-body-favorite-search">
      <input type="text" class="k-textbox form-control modal-fav-searchbox" [ngModel]="viewModel.favoriteFilterPopUpBound?.searchFavoritesName"
        (ngModelChange)="onSearchFavoriteNameChange($event)" [ngClass]="{'invalidTextBox': !viewModel?.isNameValid}" />
      <div class="modal-title-favorite-search">
        <span style="padding-right: 4.9px;">
          <span *ngIf="viewModel.favoriteFilterPopUpBound?.isDefault" class='dls-icon dls-iconStarSolid iconStarDefault'
            (click)="viewModel.favoriteFilterPopUpBound.isDefault = !viewModel.favoriteFilterPopUpBound.isDefault"
            style='color:#FFC107; font-size: 14px; cursor: pointer;'></span>
          <span *ngIf="!viewModel.favoriteFilterPopUpBound?.isDefault" class='dls-icon dls-iconStar iconStarNotDefault'
            (click)="viewModel.favoriteFilterPopUpBound.isDefault = !viewModel.favoriteFilterPopUpBound.isDefault"
            style='color:#669BC6;font-size: 14px;cursor: pointer;'></span>
        </span>
        <span style="font-size: 12px; color: #39414D ;"> Set as default search</span>
      </div>
    </div>
    <div class="model-footer-favorite">
      <button class="fmp-button fmp-button-tertiary" style="width:80px;" (click)="onCloseSearchFavorite()">Cancel</button>
      <button class="fmp-button fmp-button-primary" style="width:80px;" [disabled]="!viewModel.isFavoriteSearchFilterValid"
        (click)="onSaveSearchFavorite()">Save</button>
    </div>

  </div>
</ng-template>